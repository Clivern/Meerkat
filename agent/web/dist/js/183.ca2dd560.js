"use strict";(self["webpackChunkweb"]=self["webpackChunkweb"]||[]).push([[183],{7183:function(e,a,t){t.r(a),t.d(a,{default:function(){return m}});var s=function(){var e=this,a=e._self._c;return a("div",{staticClass:"columns is-desktop is-centered"},[a("div",{staticClass:"column is-4"},[a("br"),a("img",{attrs:{alt:"logo",src:t(6949),width:"200"}}),a("br"),a("br"),a("b-field",{attrs:{label:"Application Name"}},[a("b-input",{attrs:{placeholder:"Mandrill",rounded:""},model:{value:e.form.app_name,callback:function(a){e.$set(e.form,"app_name",a)},expression:"form.app_name"}})],1),a("b-field",{attrs:{label:"Application Email"}},[a("b-input",{attrs:{placeholder:"hello@mandrill.com",rounded:""},model:{value:e.form.app_email,callback:function(a){e.$set(e.form,"app_email",a)},expression:"form.app_email"}})],1),a("b-field",{attrs:{label:"Application URL"}},[a("b-input",{attrs:{placeholder:"http://mandrill.com",rounded:""},model:{value:e.form.app_url,callback:function(a){e.$set(e.form,"app_url",a)},expression:"form.app_url"}})],1),a("b-field",{attrs:{label:"Admin Name"}},[a("b-input",{attrs:{placeholder:"Joe Doe",rounded:""},model:{value:e.form.admin_name,callback:function(a){e.$set(e.form,"admin_name",a)},expression:"form.admin_name"}})],1),a("b-field",{attrs:{label:"Admin Email"}},[a("b-input",{attrs:{placeholder:"admin@mandrill.com",rounded:""},model:{value:e.form.admin_email,callback:function(a){e.$set(e.form,"admin_email",a)},expression:"form.admin_email"}})],1),a("b-field",{attrs:{label:"Admin Password"}},[a("b-input",{attrs:{type:"password","password-reveal":"",rounded:""},model:{value:e.form.admin_password,callback:function(a){e.$set(e.form,"admin_password",a)},expression:"form.admin_password"}})],1),a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("b-button",{attrs:{type:"submit is-danger is-light",disabled:e.form.button_disabled},on:{click:e.installEvent}},[e._v("Install")])],1)]),a("br"),e._m(0)],1)])},l=[function(){var e=this,a=e._self._c;return a("small",[e._v(" Made with "),a("span",{staticClass:"icon has-text-danger"},[a("i",{staticClass:"fas fa-heart"})]),e._v(" by "),a("a",{attrs:{href:"https://github.com/Clivern",target:"_blank",rel:"noopener"}},[e._v("Clivern")]),a("br")])}],i=(t(560),{name:"InstallPage",data(){return{loader:{isFullPage:!0,ref:null},form:{app_name:"",app_url:"",app_email:"",admin_name:"",admin_email:"",admin_password:"",button_disabled:!1}}},methods:{loading(){this.loader.ref=this.$buefy.loading.open({container:this.loader.isFullPage?null:this.$refs.element.$el})},installEvent(){this.form.button_disabled=!0,this.$store.dispatch("install/installAction",{app_name:this.form.app_name,app_url:this.form.app_url,app_email:this.form.app_email,admin_name:this.form.admin_name,admin_email:this.form.admin_email,admin_password:this.form.admin_password}).then((e=>{this.$buefy.toast.open({message:e.data.successMessage,type:"is-success"}),setTimeout((()=>this.$router.push("/login")),700)}),(e=>{e.response.data.errorMessage?this.$buefy.toast.open({message:e.response.data.errorMessage,type:"is-danger"}):this.$buefy.toast.open({message:"Oops! Something Goes Wrong!",type:"is-danger"}),this.form.button_disabled=!1}))}},mounted(){this.$emit("refresh-state"),this.loading(),this.$store.dispatch("health/fetchReadiness").then((()=>{this.$router.push("/"),this.loader.ref.close()}),(()=>{this.$buefy.toast.open({message:"Please provide the following data to install Mandrill",type:"is-info is-light"}),localStorage.removeItem("x_user_id"),localStorage.removeItem("x_user_email"),localStorage.removeItem("x_api_key"),localStorage.removeItem("x_user_uuid"),localStorage.removeItem("x_user_name"),localStorage.removeItem("x_session_id"),localStorage.removeItem("x_session_uuid"),this.loader.ref.close()}))}}),o=i,r=t(1001),n=(0,r.Z)(o,s,l,!1,null,"de03d268",null),m=n.exports},6949:function(e,a,t){e.exports=t.p+"img/logo.8dda3450.png"}}]);
//# sourceMappingURL=183.ca2dd560.js.map